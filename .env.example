# Groote AI Configuration
# Copy this file to .env and fill in your values

# ===========================================
# CLI Provider Configuration
# ===========================================
CLI_PROVIDER=claude
MAX_CONCURRENT_TASKS=5
TASK_TIMEOUT_SECONDS=3600

# ===========================================
# Database Configuration
# ===========================================
POSTGRES_PASSWORD=agent
POSTGRES_USER=agent
POSTGRES_DB=agent_system

# ===========================================
# API Keys - External Services
# ===========================================

# GitHub
GITHUB_TOKEN=ghp_xxxxxxxxxxxx

# Jira
JIRA_URL=https://company.atlassian.net
JIRA_EMAIL=agent@company.com
JIRA_API_TOKEN=xxxxxxxxxxxx

# Slack
SLACK_BOT_TOKEN=xoxb-xxxxxxxxxxxx

# Sentry
SENTRY_DSN=https://xxx@sentry.io/xxx
SENTRY_AUTH_TOKEN=xxxxxxxxxxxx
SENTRY_ORG_SLUG=your-org-slug

# ===========================================
# Webhook Secrets (for signature validation)
# ===========================================
GITHUB_WEBHOOK_SECRET=your-github-webhook-secret
JIRA_WEBHOOK_SECRET=your-jira-webhook-secret
SLACK_SIGNING_SECRET=your-slack-signing-secret
SENTRY_CLIENT_SECRET=your-sentry-client-secret

# ===========================================
# Anthropic API (for Claude CLI)
# ===========================================
# ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxx

# ===========================================
# Cursor API (for Cursor CLI)
# ===========================================
CURSOR_API_KEY=cur_xxxxxxxxxxxx

# ===========================================
# Model Configuration
# ===========================================

# Claude CLI Models (short names: opus, sonnet, haiku)
# Complex tasks: planning, consultation, question_asking, brain
CLAUDE_MODEL_COMPLEX=opus
# Execution tasks: executor, code_implementation
CLAUDE_MODEL_EXECUTION=sonnet

# Cursor CLI Models (full names from Cursor pricing)
# Complex tasks: Claude 4.5 Sonnet ($3 in / $15 out per 1M tokens)
CURSOR_MODEL_COMPLEX=claude-sonnet-4.5
# Execution tasks: Composer 1 ($1.25 in / $10 out per 1M tokens)
CURSOR_MODEL_EXECUTION=composer-1

# ===========================================
# Public URL (single gateway for all services)
# ===========================================
# All services (dashboard, API, OAuth, webhooks) are served through this URL
# via the nginx reverse proxy on port 3005.
# Routes: / (dashboard), /api (API), /oauth (OAuth), /webhooks (webhooks), /ws (WebSocket)
#
# Option 1: zrok (free, permanent URL) - run: make tunnel-zrok
PUBLIC_URL=https://your-tunnel-url-here
# Option 2: ngrok (free static domain) - run: make tunnel
# PUBLIC_URL=https://your-domain.ngrok-free.app

# ===========================================
# OAuth Service Configuration (Multi-Tenant)
# ===========================================

# GitHub App (create at https://github.com/settings/apps/new)
GITHUB_APP_ID=123456
GITHUB_APP_NAME=my-groote-ai
GITHUB_CLIENT_ID=Iv1.abc123
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_PRIVATE_KEY_PATH=/secrets/github-private-key.pem
GITHUB_PRIVATE_KEY_FILE=./secrets/github-private-key.pem

# Slack App (create at https://api.slack.com/apps)
SLACK_CLIENT_ID=123456789.123456789
SLACK_CLIENT_SECRET=your-slack-client-secret
SLACK_STATE_SECRET=random-state-secret-for-oauth

# Jira OAuth (create at https://developer.atlassian.com/console/myapps/)
JIRA_CLIENT_ID=your-jira-client-id
JIRA_CLIENT_SECRET=your-jira-client-secret

# Token Encryption Key (generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())")
TOKEN_ENCRYPTION_KEY=your-fernet-encryption-key

# Internal Service Key (shared secret for service-to-service auth)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
INTERNAL_SERVICE_KEY=change-me-to-a-random-string

# OAuth token resolution (set to false to disable OAuth and use static tokens only)
# USE_OAUTH=true

# ===========================================
# Claude Code Tasks Feature (v2.1.16+)
# ===========================================
CLAUDE_CODE_ENABLE_TASKS=true

# ===========================================
# Deployment Mode (local, cloud, kubernetes, ecs, cloudrun)
# ===========================================
DEPLOYMENT_MODE=local

# ===========================================
# Logging
# ===========================================
LOG_LEVEL=INFO

# Tunnel configuration (for local development with OAuth)
# Option 1: zrok (recommended - free permanent URL)
ZROK_SHARE_NAME=your-share-name
# Option 2: ngrok (set NGROK_DOMAIN to your ngrok static domain)
# NGROK_DOMAIN=your-domain.ngrok-free.app
